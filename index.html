<!DOCTYPE html>
<html lang="en">
<head>
  <!-- [Previous head content remains exactly the same] -->
  <style>
    /* [All previous CSS remains exactly the same] */
  </style>
</head>
<body>
  <!-- [All previous HTML remains exactly the same until the script] -->

  <script>
    // Creative encoding for questions and answers
    const questionData = [
      { q: "1 IN 50 MILLION, FROM RED TO THE COLOR OF THE SEA", a: ["blue lobster"] },
      { q: "BORN FROM STONE, YET ALIVE I GROW; MY ARMS EMBRACE BUT NEVER LET GO.", a: ["coral"] },
      { q: "A MOUNTAIN THAT WALKS, A FOREST THAT HIDES; I BREATHE THROUGH MY TAIL, AND DANCE ON THE TIDES.", a: ["whale shark"] },
      { q: "I SPEAK WITHOUT LIPS, AND ANSWER WITHOUT THOUGHT; SAILORS FEAR MY WHISPER, FOR IT'S THE ONLY SOUND I'VE CAUGHT", a: ["the bloop"] },
      { q: "I'M A GIANT THAT DOESN'T GROW, A TRAVELER WITH NO FEET. I CAN DROWN SHIPS BUT NEVER DRINK.", a: ["a wave"] },
      { q: "THIS DEEP-SEA CREATURE CAN STRETCH ITS STOMACH TO SWALLOW PREY LARGER THAN ITSELF", a: ["black swallower", "black swallower fish"] },
      { q: "EYES BIGGER THAN PLATES IN A REALM WITHOUT SUN, MY WRITHING SHADOW MAKES WHALES TURN TO RUN—YET I'M TORN APART BY WHAT'S GREEN WHEN IT'S DONE.", a: ["giant squid"] },
      { q: "THIS DEEP-SEA JELLYFISH LOOKS LIKE A FLOATING ALIEN SPACESHIP", a: ["bloodybelly", "bloodybelly comb jelly"] }
    ];

    // Light obfuscation by reversing and mixing properties
    const encodedQuestions = questionData.map(item => {
      return {
        x: item.q.split('').reverse().join(''), // Reverse the question
        y: item.a.map(ans => ans.split('').map(c => c.charCodeAt(0)).join('_')) // ASCII codes for answers
      };
    });

    // Function to decode questions
    function getRandomQuestions() {
      return encodedQuestions.map(item => {
        return {
          question: item.x.split('').reverse().join(''), // Un-reverse the question
          answer: item.y.map(ans => 
            ans.split('_').map(code => String.fromCharCode(code)).join('')
          )
        };
      }).sort(() => 0.5 - Math.random()).slice(0, 5);
    }

    const selectedQuestions = getRandomQuestions();
    let currentQuestionIndex = 0;

    // [Rest of the JavaScript code remains exactly the same]
    function updateQuestion() {
      if (currentQuestionIndex < selectedQuestions.length) {
        const q = selectedQuestions[currentQuestionIndex];
        document.getElementById("currentQuestion").textContent = q.question;
        document.getElementById("questionNum").textContent = `QUESTION ${currentQuestionIndex + 1} OF 5`;
        document.getElementById("answerInput").value = "";
        document.getElementById("response").className = "response";
        document.getElementById("response").textContent = "";
        document.getElementById("progressBar").style.width = `${(currentQuestionIndex / selectedQuestions.length) * 100}%`;
      } else {
        document.getElementById("currentQuestion").textContent = "QUESTIONS COMPLETED!";
        document.getElementById("questionNum").textContent = "COMPLETED";
        document.getElementById("answerInput").style.display = "none";
        document.querySelector("button").style.display = "none";
        document.getElementById("progressBar").style.width = "100%";
        document.getElementById("codeDisplay").style.display = "block";
      }
    }

    function checkAnswer() {
      const userAnswer = document.getElementById("answerInput").value.toLowerCase().trim();
      const responseEl = document.getElementById("response");
      const currentQ = selectedQuestions[currentQuestionIndex];
      let correct = false;

      if (Array.isArray(currentQ.answer)) {
        correct = currentQ.answer.some(ans => ans.toLowerCase() === userAnswer);
      } else {
        correct = userAnswer === currentQ.answer.toLowerCase();
      }

      if (correct) {
        responseEl.textContent = "✓ CORRECT!";
        responseEl.className = "response correct show";
        currentQuestionIndex++;
        setTimeout(updateQuestion, 1000);
      } else {
        responseEl.textContent = "✗ INCORRECT - TRY AGAIN";
        responseEl.className = "response incorrect show";
      }
    }

    document.addEventListener('DOMContentLoaded', function() {
      updateQuestion();
      document.getElementById("answerInput").addEventListener("keypress", function(e) {
        if (e.key === "Enter") checkAnswer();
      });

      // Bubble animation
      const bubblesContainer = document.getElementById("bubbles");
      setInterval(() => {
        const bubble = document.createElement("div");
        bubble.classList.add("bubble");
        bubble.style.left = `${Math.random() * 100}%`;
        bubble.style.animationDuration = `${6 + Math.random() * 4}s`;
        bubble.style.width = bubble.style.height = `${10 + Math.random() * 10}px`;
        bubblesContainer.appendChild(bubble);
        setTimeout(() => bubble.remove(), 10000);
      }, 300);
    });
  </script>
</body>
</html>
